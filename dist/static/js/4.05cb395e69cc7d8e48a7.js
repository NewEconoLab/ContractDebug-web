webpackJsonp([4],{"V/oZ":function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"\n.invoke-panel[data-v-2225e968] {\n  display: flex;\n}\n.invoke-panel .code[data-v-2225e968] {\n  flex: 1;\n  padding-right: 25px;\n}\n.invoke-panel .code .code-content[data-v-2225e968] {\n  height: 100%;\n  max-height: 500px;\n  overflow: auto;\n}\n.invoke-panel .code .p-title[data-v-2225e968] {\n  border-bottom: 3px solid #3d3d3d;\n  width: 100%;\n  line-height: 55px;\n}\n.invoke-panel .code .p-title .title[data-v-2225e968] {\n  padding-left: 25px;\n  font-family: NotoSansHans-Regular;\n  font-size: 14px;\n  color: #b5b5b5;\n  display: inline-block;\n}\n.invoke-panel .code .p-title .btn-list[data-v-2225e968] {\n  float: right;\n  margin-top: 15px;\n  margin-right: 25px;\n}\n.invoke-panel .result[data-v-2225e968] {\n  width: 520px;\n  max-width: 520px;\n}\n.invoke-panel .result .panel-content[data-v-2225e968] {\n  margin-left: 20px;\n  margin-right: 20px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.invoke-panel .result .panel-content .content-btns[data-v-2225e968] {\n  padding-top: 20px;\n  justify-content: flex-end;\n}\n.invoke-panel .result .panel-content input[data-v-2225e968] {\n  width: 100%;\n  background: #292a30;\n  border: 1px solid #b5b5b5;\n  box-shadow: 0 2px 4px 0 #023169;\n  border-radius: 3px 0px 3px 3px 3px;\n  height: 30px;\n  color: #fff;\n}\n.invoke-panel .panel-form[data-v-2225e968] {\n  display: flex;\n}\n.invoke-panel .panel-form .form-lable[data-v-2225e968] {\n  font-family: NotoSansHans-Regular;\n  font-size: 14px;\n  color: #ffffff;\n  width: 137px;\n  padding-bottom: 20px;\n}\n.invoke-panel .panel-form .form-content[data-v-2225e968] {\n  width: 370px;\n  padding-bottom: 20px;\n}\n.invoke-panel .panel-form .form-content input[data-v-2225e968] {\n  background: #292a30;\n  border: 1px solid #ffffff;\n  box-shadow: 0 2px 4px 0 #023169;\n  border-radius: 3px 0px 3px 3px 3px;\n  width: 260px;\n}\n.invoke-panel .panel-form label[data-v-2225e968] {\n  box-sizing: border-box;\n  display: inline-block;\n  padding: 0 10px;\n  margin-bottom: 10px;\n  text-align: center;\n  margin-right: 15px;\n  font-size: 14px;\n  color: #ffffff;\n  font-weight: 400;\n  border-radius: 3px;\n  position: relative;\n}\n.invoke-panel .panel-form label .select-img[data-v-2225e968] {\n  display: inline-block;\n  width: 22px;\n  height: 22px;\n  margin-right: 6px;\n  vertical-align: middle;\n  border: 1px solid #fff;\n  border-radius: 50%;\n}\n.invoke-panel .panel-form label .select-img img[data-v-2225e968] {\n  display: none;\n  width: 22px;\n  height: 22px;\n}\n.invoke-panel .panel-form label span[data-v-2225e968] {\n  vertical-align: middle;\n}\n.invoke-panel .panel-form label input[data-v-2225e968] {\n  visibility: hidden;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.invoke-panel .panel-form label[data-v-2225e968]:last-child {\n  margin-right: 0;\n}\n.invoke-panel .panel-form label.checked-input .select-img[data-v-2225e968] {\n  border: none;\n}\n.invoke-panel .panel-form label.checked-input .select-img img[data-v-2225e968] {\n  display: block;\n}\n",""])},ahWo:function(t,e,n){var o=n("V/oZ");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("5e2f4a12",o,!0)},ev4o:function(t,e,n){"use strict";function o(t){n("ahWo")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("fh+J"),i=n.n(a),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"invoke-panel"},[o("div",{staticClass:"code"},[o("panel",[o("p-title",{attrs:{title:"编译结果"}},[o("v-btn",[t._v("\n                        更换合约\n                    ")]),t._v(" "),o("v-btn",{attrs:{type:"warn"}},[t._v("\n                        帮助\n                    ")])],1),t._v(" "),o("div",{staticClass:"code-content",attrs:{id:"code-content"}},[o("textarea",{attrs:{id:"csharp-code",rows:"25",cols:"20"}})]),t._v(" "),o("p-foot",[o("v-btn",{attrs:{type:"primary"},on:{onclick:t.compile}},[t._v("调用交易")]),t._v(" "),o("v-btn",{on:{onclick:t.test}},[t._v("试运行")])],1)],1)],1),t._v(" "),o("div",{staticClass:"result"},[o("panel",[o("p-title",{attrs:{title:"编译结果"}}),t._v(" "),o("div",{staticClass:"panel-content"},[o("div",{staticClass:"compile-result"})])],1),t._v(" "),t.conactHash&&t.download_href?o("div",[o("panel",[o("div",{staticClass:"panel-content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.conactHash,expression:"conactHash"}],attrs:{type:"text",id:"hash-input"},domProps:{value:t.conactHash},on:{input:function(e){e.target.composing||(t.conactHash=e.target.value)}}}),t._v(" "),o("div",{staticClass:"content-btns"},[o("v-btn",[o("a",{attrs:{download:t.download_name,href:t.download_href}},[t._v(" 下载 AVM")])]),t._v(" "),o("v-btn",{on:{onclick:t.copyHash}},[t._v("复制合约hash")])],1)])]),t._v(" "),o("panel",[o("p-title",{attrs:{title:"部署当前合约"}}),t._v(" "),o("div",{staticClass:"panel-content"},[o("div",{staticClass:"panel-form"},[o("div",{staticClass:"form-lable"},[t._v("合约名称（必填）")]),t._v(" "),o("div",{staticClass:"form-content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"panel-form"},[o("div",{staticClass:"form-lable"},[t._v("版本")]),t._v(" "),o("div",{staticClass:"form-content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.version,expression:"version"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.version},on:{input:function(e){e.target.composing||(t.version=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"panel-form"},[o("div",{staticClass:"form-lable"},[t._v("作者")]),t._v(" "),o("div",{staticClass:"form-content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.author},on:{input:function(e){e.target.composing||(t.author=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"panel-form"},[o("div",{staticClass:"form-lable"},[t._v("邮件")]),t._v(" "),o("div",{staticClass:"form-content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"panel-form"},[o("div",{staticClass:"form-lable"},[t._v("合约描述")]),t._v(" "),o("div",{staticClass:"form-content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",name:"",id:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"panel-form"},[o("label",{class:t.isCall?"checked-input":"",attrs:{for:""}},[o("span",{on:{click:function(e){t.isCall=!t.isCall}}},[o("span",{staticClass:"select-img"},[o("img",{attrs:{src:n("o1/X"),alt:""}})]),t._v(" "),o("span",[t._v("动态调用")])])]),t._v(" "),o("label",{class:t.isStore?"checked-input":"",attrs:{for:""}},[o("span",{on:{click:function(e){t.isStore=!t.isStore}}},[o("span",{staticClass:"select-img"},[o("img",{attrs:{src:n("o1/X"),alt:""}})]),t._v(" "),o("span",[t._v("创建存储区")])])]),t._v(" "),o("label",{class:t.feePay?"checked-input":"",attrs:{for:""}},[o("span",{on:{click:function(e){t.feePay=!t.feePay}}},[o("span",{staticClass:"select-img"},[o("img",{attrs:{src:n("o1/X"),alt:""}})]),t._v(" "),o("span",[t._v("可接受付款")])])])])]),t._v(" "),o("p-foot",{attrs:{title:"花费GAS："+(500*t.isCall+400*t.isStore+90)}},[o("v-btn",{attrs:{type:"primary"},on:{onclick:t.deploy}},[t._v("确认部署")])],1)],1)],1):t._e()],1)])])},r=[],l={render:s,staticRenderFns:r},c=l,d=n("VU/8"),p=o,h=d(i.a,c,!1,p,"data-v-2225e968",null);e.default=h.exports},"fh+J":function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),a=this&&this.__decorate||function(t,e,n,o){var a,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(a,i){function s(t){try{l(o.next(t))}catch(t){i(t)}}function r(t){try{l(o.throw(t))}catch(t){i(t)}}function l(t){t.done?a(t.value):new n(function(e){e(t.value)}).then(s,r)}l((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,i&&(s=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,i=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],i=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var a,i,s,r,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return r={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r};Object.defineProperty(e,"__esModule",{value:!0});var r=n("8U58");n("6S2o"),n("jQeI"),n("PgJU");var l=n("c+8m"),c=n("/5sW"),d=n("VKSY"),p=n("6nHw"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.description="",e.email="",e.author="",e.version="",e.name="",e.checked=[],e.result="",e.conactHash="",e.download_name="",e.download_href="",e.hashList=[],e.isCall=!1,e.isStore=!1,e.feePay=!1,e.inputhash="",e.inputLoadHash=!1,e}return o(e,t),e.prototype.mounted=function(){this.initConactInfo(),this.initCodeEditor(),this.opneToast=this.$refs.toast.isShow},e.prototype.initConactInfo=function(){var t=sessionStorage.getItem("neo-contract-hash");t&&this.selectedHash(t)},e.prototype.initCodeEditor=function(){var t=sessionStorage.getItem("neo-contract-code"),e=document.getElementById("code-content"),n=(e.offsetWidth,e.offsetHeight),o=document.getElementById("csharp-code"),a={};a.lineNumbers=!0,a.mode="text/x-csharp",a.dragDrop=!0,a.theme="monokai",this.cEditor=r.fromTextArea(o,a),this.loadHashList(),this.cEditor.setValue(t||""),this.cEditor.setSize("auto",n),this.cEditor.on("change",function(t,e){sessionStorage.setItem("neo-contract-code",t.getValue())})},e.prototype.compile=function(){return i(this,void 0,void 0,function(){var t,e,n,o,a;return s(this,function(i){switch(i.label){case 0:return console.log("进入了 compile 方法"),t=this.cEditor.getValue(),console.log(t),[4,d.tools.wwwtool.compileContractFile(p.LoginInfo.getCurrentAddress(),t)];case 1:return e=i.sent(),this.result=e.message,this.conactHash=e.hash,[4,d.tools.wwwtool.getContractCodeByHash(this.conactHash,"")];case 2:return n=i.sent(),o=n.avm,this.avmhex=o.hexToBytes(),a=new Blob([o.hexToBytes()]),this.download_href=URL.createObjectURL(a),this.download_name=this.conactHash+".avm",[2]}})})},e.prototype.deploy=function(){return i(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(a){switch(a.label){case 0:return t=(this.isCall?500:0)+(this.isStore?400:0)+90,e=(this.isStore?1:0)|(this.isCall?2:0)|(this.feePay?4:0),console.log(e),[4,d.tools.contract.deployContract(this.description,this.email,this.author,this.version,this.name,new Neo.BigInteger(e),this.avmhex,t)];case 1:return n=a.sent(),n.sendrawtransactionresult?[4,d.tools.wwwtool.storageContractFile(p.LoginInfo.getCurrentAddress(),this.conactHash,this.name,this.version,this.author,this.email,this.description,this.feePay?1:0,this.isStore?1:0,this.isCall?1:0,n.txid)]:[3,3];case 2:return o=a.sent(),console.log(o),this.opneToast("success","合约发布成功",4e3),[3,4];case 3:this.opneToast("error","合约发布失败",4e3),a.label=4;case 4:return[2]}})})},e.prototype.copyHash=function(){document.getElementById("hash-input").select(),document.execCommand("copy"),console.log()},e.prototype.test=function(){return i(this,void 0,void 0,function(){var t,e,n,o;return s(this,function(a){switch(a.label){case 0:return t=Neo.Uint160.parse("0xb2d5df69977b0e0948b81aef1b77cac9de699681"),e=d.tools.contract.buildScript_random(t,"test",[]),[4,d.tools.contract.buildInvokeTransData_attributes(e)];case 1:return n=a.sent(),[4,d.tools.wwwtool.setTxCallContract(p.LoginInfo.getCurrentAddress(),n.toHexString())];case 2:return o=a.sent(),console.log(o),[2]}})})},e.prototype.loadHashList=function(){return i(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return t=this,[4,d.tools.wwwtool.getContractRemarkByAddress(p.LoginInfo.getCurrentAddress())];case 1:return t.hashList=e.sent(),[2]}})})},e.prototype.selectedHash=function(t){return i(this,void 0,void 0,function(){var e,n,o,a;return s(this,function(i){switch(i.label){case 0:return"new"===t?(this.cEditor.setValue(""),this.conactHash="",sessionStorage.setItem("neo-contract-hash",""),[2]):((this.inputLoadHash||this.inputhash)&&(this.inputLoadHash=!1,this.inputhash=""),this.conactHash=t,[4,d.tools.wwwtool.getContractCodeByHash(this.conactHash,"")]);case 1:return e=i.sent(),[4,d.tools.wwwtool.getContractDeployInfoByHash(this.conactHash)];case 2:return n=i.sent(),e&&(o=e.avm,this.avmhex=o.hexToBytes(),a=new Blob([o.hexToBytes()]),this.download_href=URL.createObjectURL(a),this.download_name=this.conactHash+".avm",this.cEditor.setValue(e.cs)),n&&(this.name=n.name,this.description=n.desc,this.author=n.author,this.email=n.email,this.version=n.version,this.isCall=0!=n.dynamicCall,this.isStore=0!=n.createStorage,this.feePay=0!=n.acceptablePayment),[2]}})})},e=a([l.default({components:{}})],e)}(c.default);e.default=h},"o1/X":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAWlBMVEUAAAAceegbd+gbd+YcduUcd+Ybd+Ucd+Ycd+Ybd+Ycd+Ydd+YbeOYdeOcgeOf///8bduYbduX///8tgefX5/rY5/pyqu6Bs/DK3/henuzn8fy71veOu/Jwqe4Cm0HOAAAAEXRSTlMAQjfz7ebZwb+rpZiCaiABjFvTkxAAAAEBSURBVDjLldXdkoMgDAXgiIoIVHtst9vuz/u/Zi+YNkoqknPnzDcMYEgoy2yid7ZtrfPRzFRKE3qs0odml5oBIoP5SKcRHzNO0jYddtKJvZxQyGlrzyjmLNatXLvBYd77nrpj3L3uZERFxmQNqpL+zlCHh+x0x2cMJXC5/+KVQDT3JXtd7lyDM5my/bqsjxirLSL5agtPrtrCkeWPx2Nrr1sLSy1//CzfhXWBdo3/l6TZ5tiCc0uabb4NB6nZZgf0yLWwfHURuf7bsYhkIPSOhZGFdBP3y4UkSzRRmaAqfs2zUj1YTStQNRlN+9I0Rk3L1TRzzZjQDCD1aNMPTdU4fgIy22SeoellCAAAAABJRU5ErkJggg=="}});