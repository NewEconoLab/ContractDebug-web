webpackJsonp([2],{GK2L:function(t,n,e){n=t.exports=e("FZ+f")(!1),n.push([t.i,"\n.invoke-panel .code-top[data-v-0ba22159] {\n  margin-bottom: 30px;\n}\n.invoke-panel .code-top .code-content[data-v-0ba22159] {\n  height: 245px;\n  max-height: 245px;\n  overflow: auto;\n}\n.invoke-panel .code-top .panel-title[data-v-0ba22159] {\n  border-bottom: 1px solid #3d3d3d;\n  width: 100%;\n}\n.invoke-panel .code-top .panel-title .title[data-v-0ba22159] {\n  padding-left: 25px;\n  font-family: NotoSansHans-Regular;\n  font-size: 14px;\n  color: #b5b5b5;\n  display: inline-block;\n  line-height: 55px;\n}\n.invoke-panel .code-top .panel-title .btn-list[data-v-0ba22159] {\n  float: right;\n  margin-top: 0 !important;\n  margin-right: 25px;\n}\n.invoke-panel .code-top .v-btn[data-v-0ba22159] {\n  margin-right: 30px;\n}\n.invoke-panel .code-top .v-btn[data-v-0ba22159]:last-child {\n  margin-right: 0;\n}\n.invoke-panel .result-bottom[data-v-0ba22159] {\n  width: 100%;\n  height: 277px;\n  box-shadow: 0 2px 5px 0 #191919;\n  border-radius: 5px;\n  background: #292a30;\n  display: flex;\n}\n.invoke-panel .result-bottom .result-left[data-v-0ba22159],\n.invoke-panel .result-bottom .result-right[data-v-0ba22159] {\n  flex: 1;\n}\n.invoke-panel .result-bottom .result-left .content[data-v-0ba22159],\n.invoke-panel .result-bottom .result-right .content[data-v-0ba22159] {\n  width: 100%;\n}\n.invoke-panel .result-bottom .result-left[data-v-0ba22159] {\n  border-right: 1px solid #3d3d3d;\n}\n.invoke-panel .result-bottom .panel-content[data-v-0ba22159] {\n  margin-left: 20px;\n  margin-right: 20px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.invoke-panel .result-bottom .panel-content input[data-v-0ba22159] {\n  width: 100%;\n  background: #292a30;\n  border: 1px solid #b5b5b5;\n  box-shadow: 0 2px 4px 0 #023169;\n  border-radius: 3px 0px 3px 3px 3px;\n  height: 30px;\n  color: #fff;\n}\n.invoke-panel .panel-form[data-v-0ba22159] {\n  display: flex;\n}\n.invoke-panel .panel-form .form-lable[data-v-0ba22159] {\n  font-family: NotoSansHans-Regular;\n  font-size: 14px;\n  color: #ffffff;\n  width: 137px;\n  padding-bottom: 20px;\n}\n.invoke-panel .panel-form .form-content[data-v-0ba22159] {\n  width: 74%;\n  padding-bottom: 20px;\n}\n.invoke-panel .panel-form .form-content .input[data-v-0ba22159] {\n  background: #292a30;\n  border: 1px solid #ffffff;\n  box-shadow: 0 2px 4px 0 #023169;\n  border-radius: 3px 0px 3px 3px 3px;\n  width: 100%;\n}\n.invoke-panel .panel-form label[data-v-0ba22159] {\n  box-sizing: border-box;\n  display: inline-block;\n  padding: 0 10px;\n  margin-bottom: 10px;\n  text-align: center;\n  margin-right: 15px;\n  font-size: 14px;\n  color: #ffffff;\n  font-weight: 400;\n  border-radius: 3px;\n  position: relative;\n}\n.invoke-panel .panel-form label .select-img[data-v-0ba22159] {\n  display: inline-block;\n  width: 22px;\n  height: 22px;\n  margin-right: 6px;\n  vertical-align: middle;\n  border: 1px solid #fff;\n  border-radius: 50%;\n}\n.invoke-panel .panel-form label .select-img img[data-v-0ba22159] {\n  display: none;\n  width: 22px;\n  height: 22px;\n}\n.invoke-panel .panel-form label span[data-v-0ba22159] {\n  vertical-align: middle;\n}\n.invoke-panel .panel-form label input[data-v-0ba22159] {\n  visibility: hidden;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.invoke-panel .panel-form label[data-v-0ba22159]:last-child {\n  margin-right: 0;\n}\n.invoke-panel .panel-form label.checked-input .select-img[data-v-0ba22159] {\n  border: none;\n}\n.invoke-panel .panel-form label.checked-input .select-img img[data-v-0ba22159] {\n  display: block;\n}\n.invoke-panel .changehash-dialog[data-v-0ba22159] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n.invoke-panel .changehash-dialog .changhash-wrapper[data-v-0ba22159] {\n  background: #292a30;\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.5);\n  border-radius: 5px;\n  width: 500px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -moz-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  -o-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.invoke-panel .changehash-dialog .changhash-wrapper .panel-title[data-v-0ba22159] {\n  border-bottom: 3px solid #3d3d3d;\n}\n.invoke-panel .changehash-dialog .changhash-wrapper .btn-list img[data-v-0ba22159] {\n  width: 22px;\n  height: 22px;\n  margin-top: 5px;\n}\n.invoke-panel .changehash-dialog .changhash-wrapper .changehash-content[data-v-0ba22159] {\n  text-align: center;\n}\n.invoke-panel .changehash-dialog .changhash-wrapper .changehash-content .change-box[data-v-0ba22159] {\n  width: 362px;\n  height: 30px;\n  margin: 0 auto;\n  margin-top: 30px;\n  background: #292a30;\n  border: 1px solid #ffffff;\n  border-radius: 3px 0px 3px 3px 3px;\n  position: relative;\n}\n.invoke-panel .changehash-dialog .changhash-wrapper .changehash-content .change-box .change-select[data-v-0ba22159] {\n  width: 100%;\n  height: 100%;\n  border: none;\n  background: none;\n  color: #fff;\n  outline: none;\n}\n.invoke-panel .changehash-dialog .changhash-wrapper .changehash-content .change-box .change-select option[data-v-0ba22159] {\n  background: #292a30;\n  color: #fff;\n}\n.invoke-panel .changehash-dialog .changhash-wrapper .changehash-content .change-box .change-input[data-v-0ba22159] {\n  width: 95%;\n  height: 100%;\n  border: none;\n  background: #292a30;\n  color: #fff;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  outline: none;\n  text-indent: 20px;\n}\n.invoke-panel .changehash-dialog .changhash-wrapper .changehash-content .change-box .change-input[data-v-0ba22159]::placeholder {\n  color: #fff;\n}\n.invoke-panel .changehash-dialog .changhash-wrapper .changehash-content .changehash-btn[data-v-0ba22159] {\n  margin-top: 50px;\n  margin-bottom: 30px;\n}\n",""])},JA1j:function(t,n){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAATlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////+QlxstAAAAGXRSTlMAzhLSW0IFDPDr4NiLbyC6tbSkhHdVPCYfXrAnOAAAAUdJREFUSMelltuywiAMRVMpBaT3i3X9/48eh4daBXUyZz/QwuwdSIAE+T8a204xQIhTa5uf7G32nODn7aumvgJmqe3u3G7rxQDX+iPdVmC6/jzUdwYqW+a3yVpx1rZAdyOsTdGvFUb3PtpHwk0+4BaI/Zv9iLnLR9wN8XWOEePkC5xhfPU3PO2X5whnzy1k68/8gGd0K1b5iZXqiDTX5reguVK//CV0fricWZfBd5ndDXMQPFSXE78Cf/QMW/rOdMfYQFKc+AxyTM+cVuTpTyaTIusk9PgmxdSIZIqcn9Zk06YtkitKfFnS5k3UUlAU+FIzPdqIlYKiwBdLfLSBXQqKAl92wqMFJ5miyBcHaoF6SWqn1WFVb5z6aKgPn/Z4qy+Q+opqk4A2zagTmTZVapOxOt1rC4q+ZOmLor7s6gu7/umgf5zo8QdTVyTZgyvynAAAAABJRU5ErkJggg=="},aJN7:function(t,n,e){"use strict";var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function a(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}(),o=this&&this.__decorate||function(t,n,e,a){var o,i=arguments.length,r=i<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(i<3?o(r):i>3?o(n,e,r):o(n,e))||r);return i>3&&r&&Object.defineProperty(n,e,r),r},i=this&&this.__awaiter||function(t,n,e,a){return new(e||(e=Promise))(function(o,i){function r(t){try{c(a.next(t))}catch(t){i(t)}}function s(t){try{c(a.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new e(function(n){n(t.value)}).then(r,s)}c((a=a.apply(t,n||[])).next())})},r=this&&this.__generator||function(t,n){function e(t){return function(n){return a([t,n])}}function a(e){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(r=i[2&e[0]?"return":e[0]?"throw":"next"])&&!(r=r.call(i,e[1])).done)return r;switch(i=0,r&&(e=[0,r.value]),e[0]){case 0:case 1:r=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,i=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!(r=r.length>0&&r[r.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!r||e[1]>r[0]&&e[1]<r[3])){c.label=e[1];break}if(6===e[0]&&c.label<r[1]){c.label=r[1],r=e;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(e);break}r[2]&&c.ops.pop(),c.trys.pop();continue}e=n.call(t,c)}catch(t){e=[6,t],i=0}finally{o=r=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var o,i,r,s,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("c+8m"),c=e("/5sW"),l=e("VKSY"),p=e("6nHw"),h=e("pQ8k"),d=e("r84I"),u=e("CveJ"),v=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.currentContract={name:"",scripthash:""},n.inputContract="",n.contractList=[],n.openSelect=!1,n.invokeResult=new h.ContractResult,n}return a(n,t),n.prototype.mounted=function(){var t=this;this.initContractList();var n=document.getElementById("invoke-json-code"),e=document.getElementById("invoke-result-code"),a={};a.lineNumbers=!0,a.mode="application/ld+json",a.dragDrop=!0,a.theme="monokai",a.matchBrackets=!0,a.autoCloseBrackets=!0;var o=sessionStorage.getItem("invoke-json-code"),i=sessionStorage.getItem("invoke-contract-hash");this.currentContract=i?JSON.parse(i):{name:"",scripthash:""},this.editor=CodeMirror.fromTextArea(n,a),this.editor.setValue(o||""),this.editor.on("change",function(t,n){sessionStorage.setItem("invoke-json-code",t.getValue())}),this.editor.setSize("auto","245px"),a.readOnly=!0,this.resultEditor=CodeMirror.fromTextArea(e,a),a.lineWrapping=!1,this.resultEditor.setSize(window.innerWidth/2-50+"px","219.5px"),window.onresize=function(){t.resultEditor.setSize(window.innerWidth/2-50+"px","219.5px")},this.opneToast=this.$refs.toast.isShow},n.prototype.initContractList=function(){return i(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return t=this,[4,l.tools.wwwtool.getContractRemarkByAddress(p.LoginInfo.getCurrentAddress())];case 1:return t.contractList=n.sent(),this.contractList=this.contractList.map(function(t){return t.name=t.name.length>20?t.name.substr(0,20)+"...":t.name,t}),d.services.routerParam.invoke&&(this.currentContract.scripthash=d.services.routerParam.invoke.contract,this.currentContract.name=d.services.routerParam.invoke.name,d.services.routerParam.invoke=null),[2]}})})},n.prototype.changeContract=function(){for(var t=0,n=this.contractList;t<n.length;t++){var e=n[t];e.scripthash==this.inputContract&&(this.currentContract=e,sessionStorage.setItem("invoke-contract-hash",JSON.stringify(this.currentContract)))}if(this.currentContract.scripthash!=this.inputContract){if(!/^[0-9a-fA-F]{40,40}$/.test(this.inputContract.replace("0x","")))return void this.opneToast("error","非法合约hash，请重新检查。",4e3);this.currentContract={name:"",scripthash:this.inputContract},sessionStorage.setItem("invoke-contract-hash",JSON.stringify(this.currentContract))}this.openSelect=!1,this.inputContract=""},n.prototype.testRun=function(){return i(this,void 0,void 0,function(){var t,n,e,a;return r(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=this.paresInvokeJson(),[4,l.tools.wwwtool.rpc_getInvokescript(t)];case 1:return n=o.sent(),n&&(this.invokeResult=n,this.resultEditor.setValue(JSON.stringify(n)),e=this.resultEditor.lineCount(),this.resultEditor.autoFormatRange({line:0,ch:0},{line:e})),[3,3];case 2:return a=o.sent(),this.opneToast("error","请检查Json的格式",4e3),[3,3];case 3:return[2]}})})},n.prototype.invoking=function(){return i(this,void 0,void 0,function(){var t,n,e;return r(this,function(a){switch(a.label){case 0:return t=this.paresInvokeJson(),l.tools.contract.buildScript_random,[4,l.tools.contract.buildInvokeTransData_attributes(t)];case 1:return n=a.sent(),[4,l.tools.wwwtool.setTxCallContract(p.LoginInfo.getCurrentAddress(),n.toHexString())];case 2:return e=a.sent(),e&&e.txid?(this.opneToast("success","invoke 交易发送成功，等待区块确认",4e3),d.services.taskManager.addTask(u.TaskType.invoke,u.ConfirmType.tranfer,e.txid,{txid:e.txid})):this.opneToast("error","交易发送失败",4e3),[2]}})})},n.prototype.paresInvokeJson=function(){var t=this.editor.getValue(),n=JSON.parse(t),e=new ThinNeo.ScriptBuilder,a=Neo.Cryptography.RandomNumberGenerator.getRandomValues(new Uint8Array(32)),o=Neo.BigInteger.fromUint8Array(a);e.EmitPushNumber(o),e.Emit(ThinNeo.OpCode.DROP);for(var i=n.length-1;i>=0;i--)e.EmitParamJson(n[i]);var r=Neo.Uint160.parse(this.currentContract.scripthash);return e.EmitAppCall(r),e.ToArray()},n.prototype.test=function(){return i(this,void 0,void 0,function(){var t,n,e,a,o;return r(this,function(i){switch(i.label){case 0:return t=Neo.Uint160.parse("0x17f26389efc8fe0d9f2116f8ea474202b8d78280"),n=new ThinNeo.ScriptBuilder,n.EmitParamJson(["(str)test",[]]),n.EmitAppCall(t),e=l.tools.contract.buildScript_random(t,"test",[]),[4,l.tools.contract.buildInvokeTransData_attributes(e)];case 1:return a=i.sent(),console.log(a),[4,l.tools.wwwtool.setTxCallContract(p.LoginInfo.getCurrentAddress(),a.toHexString())];case 2:return o=i.sent(),console.log(o),[2]}})})},n=o([s.default({components:{}})],n)}(c.default);n.default=v},d4Gz:function(t,n,e){var a=e("GK2L");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e("rjj0")("66f06ef8",a,!0)},ev4o:function(t,n,e){"use strict";function a(t){e("d4Gz")}Object.defineProperty(n,"__esModule",{value:!0});var o=e("aJN7"),i=e.n(o),r=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",[a("div",{staticClass:"invoke-panel"},[a("div",{staticClass:"code-top"},[a("panel",[a("p-title",{attrs:{title:t.currentContract.name+"  "+t.currentContract.scripthash}},[a("v-btn",{on:{onclick:function(n){t.openSelect=!0}}},[t._v(t._s(t.$t("invoke.change")))]),t._v(" "),a("a",{attrs:{href:t.$t("invoke.href"),target:"_blank"}},[a("v-btn",{attrs:{type:"warn"}},[t._v(t._s(t.$t("invoke.help")))])],1)],1),t._v(" "),a("div",{staticClass:"code-content",attrs:{id:"code-content"}},[a("textarea",{attrs:{id:"invoke-json-code",rows:"25",cols:"20"}})])],1),t._v(" "),a("v-btn",{on:{onclick:t.invoking}},[t._v(t._s(t.$t("invoke.invoke")))]),t._v(" "),a("v-btn",{on:{onclick:t.testRun}},[t._v(t._s(t.$t("invoke.testrun")))])],1),t._v(" "),a("div",{staticClass:"result-bottom"},[a("div",{staticClass:"result-left"},[a("p-title",{attrs:{title:t.$t("invoke.testresult")}}),t._v(" "),a("div",{staticClass:"panel-content"},[a("div",{staticClass:"panel-form"},[a("div",{staticClass:"form-lable"},[t._v(t._s(t.$t("invoke.scripthash")))]),t._v(" "),a("div",{staticClass:"form-content"},[a("input",{staticClass:"input",domProps:{value:t.invokeResult.script}})])]),t._v(" "),a("div",{staticClass:"panel-form"},[a("div",{staticClass:"form-lable"},[t._v(t._s(t.$t("invoke.result")))]),t._v(" "),a("div",{staticClass:"form-content"},[a("input",{staticClass:"input",domProps:{value:t.invokeResult.state}})])]),t._v(" "),a("div",{staticClass:"panel-form"},[a("div",{staticClass:"form-lable"},[t._v(t._s(t.$t("invoke.return")))]),t._v(" "),a("div",{staticClass:"form-content"},[a("input",{staticClass:"input",domProps:{value:JSON.stringify(t.invokeResult.stack)}})])]),t._v(" "),a("div",{staticClass:"panel-form"},[a("div",{staticClass:"form-lable"},[t._v(t._s(t.$t("invoke.consume")))]),t._v(" "),a("div",{staticClass:"form-content"},[a("input",{staticClass:"input",domProps:{value:t.invokeResult.gas_consumed}})])])])],1),t._v(" "),a("div",{staticClass:"result-right"},[a("p-title",{attrs:{title:t.$t("invoke.resultCode")}}),t._v(" "),t._m(0,!1,!1)],1)]),t._v(" "),t.openSelect?a("div",{staticClass:"changehash-dialog"},[a("div",{staticClass:"changhash-wrapper"},[a("p-title",{attrs:{title:t.$t("invoke.change")}},[a("img",{attrs:{src:e("JA1j"),alt:""},on:{click:function(n){t.openSelect=!1}}})]),t._v(" "),a("div",{staticClass:"changehash-content"},[a("div",{staticClass:"change-box"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.inputContract,expression:"inputContract"}],staticClass:"change-select",on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.inputContract=n.target.multiple?e:e[0]}}},t._l(t.contractList,function(n){return a("option",{key:n.scripthash,domProps:{value:n.scripthash}},[t._v(t._s(n.name))])})),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputContract,expression:"inputContract"}],staticClass:"change-input",attrs:{type:"text",placeholder:t.$t("invoke.select")},domProps:{value:t.inputContract},on:{input:function(n){n.target.composing||(t.inputContract=n.target.value)}}})]),t._v(" "),a("div",{staticClass:"changehash-btn"},[a("v-btn",{on:{onclick:t.changeContract}},[t._v(t._s(t.$t("invoke.change")))])],1)])],1)]):t._e(),t._v(" "),a("v-toast",{ref:"toast"})],1)])},s=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"content",attrs:{id:"invoke-result-content"}},[e("textarea",{attrs:{id:"invoke-result-code"}})])}],c={render:r,staticRenderFns:s},l=c,p=e("VU/8"),h=a,d=p(i.a,l,!1,h,"data-v-0ba22159",null);n.default=d.exports},pQ8k:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(){}return t.prototype.pares=function(t){this.gas_consumed=t.gas_consumed,this.script=t.script,this.stack=t.stack,this.stackstr=JSON.stringify(this.stack),this.stack=t.stack},t}();n.ContractResult=a}});