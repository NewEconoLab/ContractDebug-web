webpackJsonp([4],{ZFOB:function(t,n,e){n=t.exports=e("FZ+f")(!1),n.push([t.i,"\n.debug-title[data-v-938094fc] {\n  display: flex;\n}\n.debug-panel[data-v-938094fc] {\n  display: flex;\n}\n.debug-panel .code[data-v-938094fc] {\n  flex: 1;\n  padding-right: 25px;\n}\n.debug-panel .code .code-content[data-v-938094fc] {\n  height: 100%;\n  max-height: 500px;\n  overflow: auto;\n}\n.debug-panel .code .p-title[data-v-938094fc] {\n  border-bottom: 3px solid #3d3d3d;\n  width: 100%;\n  line-height: 55px;\n}\n.debug-panel .code .p-title .title[data-v-938094fc] {\n  padding-left: 25px;\n  font-family: NotoSansHans-Regular;\n  font-size: 14px;\n  color: #b5b5b5;\n  display: inline-block;\n}\n.debug-panel .code .p-title .btn-list[data-v-938094fc] {\n  float: right;\n  margin-top: 15px;\n  margin-right: 25px;\n}\n.debug-panel .debug-info[data-v-938094fc] {\n  width: 250px;\n  max-width: 250px;\n  padding-right: 30px;\n}\n.debug-panel .debug-info .panel-content[data-v-938094fc] {\n  margin-left: 20px;\n  margin-right: 20px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.debug-panel .debug-info .panel-content .content-btns[data-v-938094fc] {\n  padding-top: 20px;\n  justify-content: flex-end;\n}\n.debug-panel .debug-info .panel-content input[data-v-938094fc] {\n  width: 100%;\n  background: #292a30;\n  border: 1px solid #b5b5b5;\n  box-shadow: 0 2px 4px 0 #023169;\n  border-radius: 3px 0px 3px 3px 3px;\n  height: 30px;\n  color: #fff;\n}\n.debug-panel .avm[data-v-938094fc] {\n  width: 250px;\n  max-width: 250px;\n  padding-right: 30px;\n}\n.debug-panel .avm .panel-content[data-v-938094fc] {\n  margin-left: 20px;\n  margin-right: 20px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n.debug-panel .avm .panel-content .content-btns[data-v-938094fc] {\n  padding-top: 20px;\n  justify-content: flex-end;\n}\n.debug-panel .avm .panel-content input[data-v-938094fc] {\n  width: 100%;\n  background: #292a30;\n  border: 1px solid #b5b5b5;\n  box-shadow: 0 2px 4px 0 #023169;\n  border-radius: 3px 0px 3px 3px 3px;\n  height: 30px;\n  color: #fff;\n}\n.debug-panel .panel-form[data-v-938094fc] {\n  display: flex;\n}\n.debug-panel .panel-form .form-lable[data-v-938094fc] {\n  font-family: NotoSansHans-Regular;\n  font-size: 14px;\n  color: #ffffff;\n  width: 137px;\n  padding-bottom: 20px;\n}\n.debug-panel .panel-form .form-content[data-v-938094fc] {\n  width: 370px;\n  padding-bottom: 20px;\n}\n.debug-panel .panel-form .form-content input[data-v-938094fc] {\n  background: #292a30;\n  border: 1px solid #ffffff;\n  box-shadow: 0 2px 4px 0 #023169;\n  border-radius: 3px 0px 3px 3px 3px;\n  width: 260px;\n}\n.debug-panel .panel-form label[data-v-938094fc] {\n  box-sizing: border-box;\n  display: inline-block;\n  padding: 0 10px;\n  margin-bottom: 10px;\n  text-align: center;\n  margin-right: 15px;\n  font-size: 14px;\n  color: #ffffff;\n  font-weight: 400;\n  border-radius: 3px;\n  position: relative;\n}\n.debug-panel .panel-form label .select-img[data-v-938094fc] {\n  display: inline-block;\n  width: 22px;\n  height: 22px;\n  margin-right: 6px;\n  vertical-align: middle;\n  border: 1px solid #fff;\n  border-radius: 50%;\n}\n.debug-panel .panel-form label .select-img img[data-v-938094fc] {\n  display: none;\n  width: 22px;\n  height: 22px;\n}\n.debug-panel .panel-form label span[data-v-938094fc] {\n  vertical-align: middle;\n}\n.debug-panel .panel-form label input[data-v-938094fc] {\n  visibility: hidden;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.debug-panel .panel-form label[data-v-938094fc]:last-child {\n  margin-right: 0;\n}\n.debug-panel .panel-form label.checked-input .select-img[data-v-938094fc] {\n  border: none;\n}\n.debug-panel .panel-form label.checked-input .select-img img[data-v-938094fc] {\n  display: block;\n}\n",""])},cDSl:function(t,n,e){var o=e("ZFOB");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);e("rjj0")("a5499cfe",o,!0)},oIGh:function(t,n,e){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),i=this&&this.__decorate||function(t,n,e,o){var i,a=arguments.length,r=a<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(n,e,r):i(n,e))||r);return a>3&&r&&Object.defineProperty(n,e,r),r},a=this&&this.__awaiter||function(t,n,e,o){return new(e||(e=Promise))(function(i,a){function r(t){try{l(o.next(t))}catch(t){a(t)}}function s(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new e(function(n){n(t.value)}).then(r,s)}l((o=o.apply(t,n||[])).next())})},r=this&&this.__generator||function(t,n){function e(t){return function(n){return o([t,n])}}function o(e){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(r=a[2&e[0]?"return":e[0]?"throw":"next"])&&!(r=r.call(a,e[1])).done)return r;switch(a=0,r&&(e=[0,r.value]),e[0]){case 0:case 1:r=e;break;case 4:return l.label++,{value:e[1],done:!1};case 5:l.label++,a=e[1],e=[0];continue;case 7:e=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!(r=r.length>0&&r[r.length-1])&&(6===e[0]||2===e[0])){l=0;continue}if(3===e[0]&&(!r||e[1]>r[0]&&e[1]<r[3])){l.label=e[1];break}if(6===e[0]&&l.label<r[1]){l.label=r[1],r=e;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(e);break}r[2]&&l.ops.pop(),l.trys.pop();continue}e=n.call(t,l)}catch(t){e=[6,t],a=0}finally{i=r=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var i,a,r,s,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(n,"__esModule",{value:!0});var s=e("8U58");e("6S2o"),e("jQeI"),e("PgJU");var l=e("c+8m"),d=e("/5sW"),c=e("VKSY"),p=e("6nHw"),u=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.txlist=[],n.txid="",n.dumpinfo="",n.dumpstr="",n.oplist=[],n.result="",n.conactHash="",n.cscode="",n.CalcStack="",n.AltStack="",n.stackarr=[],n}return o(n,t),n.prototype.mounted=function(){this.result="",this.conactHash="";var t=document.getElementById("csharp-code"),n=document.getElementById("avm-code"),e={};e.lineNumbers=!0,e.mode="text/x-csharp",e.dragDrop=!0,e.theme="monokai",this.cEditor=s.fromTextArea(t,e),this.fulllogEditor=s.fromTextArea(n,e),this.initHashList()},n.prototype.initHashList=function(){return a(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return[4,c.tools.wwwtool.getTxCallContract(p.LoginInfo.getCurrentAddress())];case 1:return t=n.sent(),this.txlist=t,[2]}})})},n.prototype.initDebugInfo=function(){return a(this,void 0,void 0,function(){var t,n,e,o,i,a,s,l,d=this;return r(this,function(r){switch(r.label){case 0:return[4,c.tools.wwwtool.getDumpInfoByTxid(this.txid)];case 1:t=r.sent(),this.dumpinfo=t.dimpInfo,n=new nid.LZMA,console.log("new LZMA"),e=this.dumpinfo.hexToBytes(),o="",i=null;try{a=n.decode(e),console.log("decode got: srcsize="+e.length+" destsize="+a.length),o=ThinNeo.Helper.Bytes2String(a),console.log("jsonstr ="+o),i=JSON.parse(o),console.log("convert to json . log to console")}catch(t){return console.log("decode error."+t),[2]}if(null!=i){for(s=ThinNeo.SmartContract.Debug.DumpInfo.FromJson(i),this.simVM=new ThinNeo.Debug.SimVM,this.simVM.Execute(s),console.log("read fulllog struct."),console.log("run state:"+s.states),l=0;l<s.states.length;l++)console.log("---\x3e"+ThinNeo.SmartContract.Debug.VMState[s.states[l]]);this.dumpstr="",this.dumpScript(s.script,1),this.fulllogEditor.on("cursorActivity",function(t){d.debug()})}return[2]}})})},n.prototype.debug=function(){return a(this,void 0,void 0,function(){var t,n,e,o;return r(this,function(i){switch(i.label){case 0:return t=this.fulllogEditor.getCursor().line,this.stackarr[t]?(n=this.stackarr[t].script,e=this.stackarr[t].op,this.showStack(e),[4,this.initCode(n.hash)]):[3,2];case 1:i.sent(),this.addr&&(o=this.addr.GetLineBack(e.addr),this.cEditor.setCursor(o),this.cEditor.addLineClass(o,"background","cursor-line-highight")),i.label=2;case 2:return[2]}})})},n.prototype.showStack=function(t){var n=this.simVM.mapState[t.guid],e=this.simVM.stateClone[n];this.CalcStack=JSON.stringify(e.CalcStack),this.AltStack=JSON.stringify(e.AltStack)},n.prototype.initCode=function(t){return a(this,void 0,void 0,function(){var n,e;return r(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,c.tools.wwwtool.getContractCodeByHash(t,p.LoginInfo.getCurrentAddress())];case 1:return n=o.sent(),n&&(this.oplist=ThinNeo.Compiler.Avm2Asm.Trans(n.avm.hexToBytes()),this.addr=ThinNeo.Debug.Helper.AddrMap.FromJson(JSON.parse(n.map)),this.cscode=n.cs,this.cEditor.setValue(n.cs)),[3,3];case 2:return e=o.sent(),this.addr=void 0,[3,3];case 3:return[2]}})})},n.prototype.addAvmStr=function(t){this.dumpstr?this.dumpstr+="\n"+t:this.dumpstr+=t},n.prototype.dumpScript=function(t,n){for(var e="",o=0;o<n;o++)e+="\t";n>1?this.addAvmStr(e+"hash : "+t.hash):this.addAvmStr("hash : "+t.hash),this.stackarr.push(void 0);for(var o=0;o<t.ops.length;o++)this.addAvmStr(e+"op : "+t.ops[o].GetHeader()),t.ops[o].GetHeader().includes("APPCALL")&&(console.log("----------------------------"+t.ops[o].GetHeader()),console.log(t.ops[o]),console.log(t.ops[o].param),console.log(t.ops[o].param.toHexString())),this.stackarr.push({script:t,op:t.ops[o]}),null!=t.ops[o].subScript&&this.dumpScript(t.ops[o].subScript,n+1);1===n&&this.fulllogEditor.setValue(this.dumpstr)},n=i([l.default({components:{}})],n)}(d.default);n.default=u},qfqf:function(t,n,e){"use strict";function o(t){e("cDSl")}Object.defineProperty(n,"__esModule",{value:!0});var i=e("oIGh"),a=e.n(i),r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"debug-title"},[e("div",{staticStyle:{"":"auto",padding:"5px",width:"362px"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.txid,expression:"txid"}],staticStyle:{width:"100%",height:"26px"},on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.txid=n.target.multiple?e:e[0]}}},t._l(t.txlist,function(n){return e("option",{key:n.id,domProps:{value:n.txid}},[t._v("0x00...ba77")])})),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.txid,expression:"txid"}],staticStyle:{width:"90%",height:"26px",position:"relative",top:"-26px"},attrs:{type:"text"},domProps:{value:t.txid},on:{input:function(n){n.target.composing||(t.txid=n.target.value)}}})]),t._v(" "),e("v-btn",{on:{onclick:t.initDebugInfo}},[t._v("查询")]),t._v(" "),e("v-btn",{attrs:{type:"warn"}},[t._v("帮助")])],1),t._v(" "),e("div",{staticClass:"debug-panel"},[e("div",{staticClass:"debug-info"},[e("panel",[e("p-title",{attrs:{title:"Info"}}),t._v(" "),e("div",{staticClass:"panel-content"},[t._v(t._s(t.CalcStack))])],1),t._v(" "),e("panel",[e("p-title",{attrs:{title:"Calcstack up, altstack down"}}),t._v(" "),e("div",{staticClass:"panel-content"})],1),t._v(" "),e("panel",[e("p-title",{attrs:{title:"Value tool"}}),t._v(" "),e("div",{staticClass:"panel-content"},[e("div",{staticClass:"compile-result"})])],1)],1),t._v(" "),e("div",{staticClass:"avm"},[e("panel",[e("p-title",{attrs:{title:"AVM"}}),t._v(" "),e("div",{staticClass:"avm-content"},[e("textarea",{attrs:{id:"avm-code"}})])],1)],1),t._v(" "),e("div",{staticClass:"code"},[e("panel",[e("div",{staticClass:"p-title"},[e("div",{staticClass:"title"},[e("div",[e("div",[t._v("文件")])])])]),t._v(" "),e("div",{staticClass:"code-content",attrs:{id:"code-content"}},[e("textarea",{attrs:{id:"csharp-code"}})])])],1)])])},s=[],l={render:r,staticRenderFns:s},d=l,c=e("VU/8"),p=o,u=c(a.a,d,!1,p,"data-v-938094fc",null);n.default=u.exports}});